                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.1 #14650 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module joypadMgmt
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _joypad
                                     12 	.globl _gravity
                                     13 	.globl _ghostyY
                                     14 	.globl _ghostyX
                                     15 	.globl _pcFacing
                                     16 	.globl _ghostySpeedY
                                     17 	.globl _fractionY
                                     18 	.globl _fractionX
                                     19 	.globl _ghostySpeedX
                                     20 	.globl _joypadMgr
                                     21 ;--------------------------------------------------------
                                     22 ; special function registers
                                     23 ;--------------------------------------------------------
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area _DATA
    00000000                         28 _ghostySpeedX::
    00000000                         29 	.ds 2
    00000002                         30 _fractionX::
    00000002                         31 	.ds 2
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _INITIALIZED
    00000000                         36 _fractionY::
    00000000                         37 	.ds 2
    00000002                         38 _ghostySpeedY::
    00000002                         39 	.ds 2
    00000004                         40 _pcFacing::
    00000004                         41 	.ds 1
    00000005                         42 _ghostyX::
    00000005                         43 	.ds 2
    00000007                         44 _ghostyY::
    00000007                         45 	.ds 2
    00000009                         46 _gravity::
    00000009                         47 	.ds 2
                                     48 ;--------------------------------------------------------
                                     49 ; absolute external ram data
                                     50 ;--------------------------------------------------------
                                     51 	.area _DABS (ABS)
                                     52 ;--------------------------------------------------------
                                     53 ; global & static initialisations
                                     54 ;--------------------------------------------------------
                                     55 	.area _HOME
                                     56 	.area _GSINIT
                                     57 	.area _GSFINAL
                                     58 	.area _GSINIT
                                     59 ;--------------------------------------------------------
                                     60 ; Home
                                     61 ;--------------------------------------------------------
                                     62 	.area _HOME
                                     63 	.area _HOME
                                     64 ;--------------------------------------------------------
                                     65 ; code
                                     66 ;--------------------------------------------------------
                                     67 	.area _CODE
                                     68 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:19: void joypadMgr(void){
                                     69 ;	---------------------------------
                                     70 ; Function joypadMgr
                                     71 ; ---------------------------------
    00000000                         72 _joypadMgr::
    00000000 E8 FB            [16]   73 	add	sp, #-5
                                     74 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:22: joypadCurrent = joypad();
    00000002 CDr00r00         [24]   75 	call	_joypad
    00000005 F8 00            [12]   76 	ldhl	sp,	#0
    00000007 77               [ 8]   77 	ld	(hl), a
                                     78 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:24: if(ghostyY < FLOOR){
    00000008 21r07r00         [12]   79 	ld	hl, #_ghostyY
    0000000B 2A               [ 8]   80 	ld	a, (hl+)
    0000000C 4F               [ 4]   81 	ld	c, a
    0000000D 46               [ 8]   82 	ld	b, (hl)
    0000000E 79               [ 4]   83 	ld	a, c
    0000000F D6 84            [ 8]   84 	sub	a, #0x84
    00000011 78               [ 4]   85 	ld	a, b
    00000012 17               [ 4]   86 	rla
    00000013 3F               [ 4]   87 	ccf
    00000014 1F               [ 4]   88 	rra
    00000015 DE 80            [ 8]   89 	sbc	a, #0x80
    00000017 30 4F            [12]   90 	jr	NC, 00104$
                                     91 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:28: ghostySpeedY += (gravity += counter);
    00000019 21r09r00         [12]   92 	ld	hl, #_gravity
    0000001C 2A               [ 8]   93 	ld	a, (hl+)
    0000001D 5F               [ 4]   94 	ld	e, a
    0000001E 56               [ 8]   95 	ld	d, (hl)
    0000001F 13               [ 8]   96 	inc	de
    00000020 F8 03            [12]   97 	ldhl	sp,	#3
    00000022 7B               [ 4]   98 	ld	a, e
    00000023 22               [ 8]   99 	ld	(hl+), a
    00000024 72               [ 8]  100 	ld	(hl), d
    00000025 21r09r00         [12]  101 	ld	hl, #_gravity
    00000028 7B               [ 4]  102 	ld	a, e
    00000029 22               [ 8]  103 	ld	(hl+), a
    0000002A 72               [ 8]  104 	ld	(hl), d
    0000002B 21r02r00         [12]  105 	ld	hl, #_ghostySpeedY
    0000002E 2A               [ 8]  106 	ld	a, (hl+)
    0000002F 5F               [ 4]  107 	ld	e, a
    00000030 56               [ 8]  108 	ld	d, (hl)
    00000031 F8 03            [12]  109 	ldhl	sp,	#3
    00000033 2A               [ 8]  110 	ld	a,	(hl+)
    00000034 66               [ 8]  111 	ld	h, (hl)
    00000035 6F               [ 4]  112 	ld	l, a
    00000036 19               [ 8]  113 	add	hl, de
    00000037 5D               [ 4]  114 	ld	e, l
    00000038 54               [ 4]  115 	ld	d, h
    00000039 21r02r00         [12]  116 	ld	hl, #_ghostySpeedY
    0000003C 7B               [ 4]  117 	ld	a, e
    0000003D 22               [ 8]  118 	ld	(hl+), a
                                    119 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:30: if(ghostySpeedY > MAX_SPD){
    0000003E 7A               [ 4]  120 	ld	a, d
    0000003F 32               [ 8]  121 	ld	(hl-), a
    00000040 6E               [ 8]  122 	ld	l, (hl)
                                    123 ;	spillPairReg hl
                                    124 ;	spillPairReg hl
    00000041 FAr03r00         [16]  125 	ld	a, (_ghostySpeedY + 1)
    00000044 67               [ 4]  126 	ld	h, a
                                    127 ;	spillPairReg hl
                                    128 ;	spillPairReg hl
    00000045 5C               [ 4]  129 	ld	e, h
    00000046 16 07            [ 8]  130 	ld	d, #0x07
    00000048 3E F8            [ 8]  131 	ld	a, #0xf8
    0000004A BD               [ 4]  132 	cp	a, l
    0000004B 3E 07            [ 8]  133 	ld	a, #0x07
    0000004D 9C               [ 4]  134 	sbc	a, h
    0000004E CB 7B            [ 8]  135 	bit	7, e
    00000050 28 07            [12]  136 	jr	Z, 00302$
    00000052 CB 7A            [ 8]  137 	bit	7, d
    00000054 20 08            [12]  138 	jr	NZ, 00303$
    00000056 BF               [ 4]  139 	cp	a, a
    00000057 18 05            [12]  140 	jr	00303$
    00000059                        141 00302$:
    00000059 CB 7A            [ 8]  142 	bit	7, d
    0000005B 28 01            [12]  143 	jr	Z, 00303$
    0000005D 37               [ 4]  144 	scf
    0000005E                        145 00303$:
    0000005E 30 08            [12]  146 	jr	NC, 00104$
                                    147 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:31: ghostySpeedY = MAX_SPD;
    00000060 21r02r00         [12]  148 	ld	hl, #_ghostySpeedY
    00000063 3E F8            [ 8]  149 	ld	a, #0xf8
    00000065 22               [ 8]  150 	ld	(hl+), a
    00000066 36 07            [12]  151 	ld	(hl), #0x07
                                    152 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:32: counter = 0;
    00000068                        153 00104$:
                                    154 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:41: if(joypadCurrent & J_B){
    00000068 E5               [16]  155 	push	hl
    00000069 F8 02            [12]  156 	ldhl	sp,	#2
    0000006B CB 6E            [12]  157 	bit	5, (hl)
    0000006D E1               [12]  158 	pop	hl
    0000006E 28 0D            [12]  159 	jr	Z, 00106$
                                    160 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:42: ghostyY -= 4;
    00000070 79               [ 4]  161 	ld	a, c
    00000071 C6 FC            [ 8]  162 	add	a, #0xfc
    00000073 4F               [ 4]  163 	ld	c, a
    00000074 78               [ 4]  164 	ld	a, b
    00000075 CE FF            [ 8]  165 	adc	a, #0xff
    00000077 21r07r00         [12]  166 	ld	hl, #_ghostyY
    0000007A 71               [ 8]  167 	ld	(hl), c
    0000007B 23               [ 8]  168 	inc	hl
    0000007C 77               [ 8]  169 	ld	(hl), a
    0000007D                        170 00106$:
                                    171 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:56: ghostySpeedX -= SPD_CHANGE_X;
    0000007D 21r00r00         [12]  172 	ld	hl, #_ghostySpeedX
    00000080 2A               [ 8]  173 	ld	a, (hl+)
    00000081 4F               [ 4]  174 	ld	c, a
    00000082 46               [ 8]  175 	ld	b, (hl)
    00000083 79               [ 4]  176 	ld	a, c
    00000084 C6 F8            [ 8]  177 	add	a, #0xf8
    00000086 5F               [ 4]  178 	ld	e, a
    00000087 78               [ 4]  179 	ld	a, b
    00000088 CE FF            [ 8]  180 	adc	a, #0xff
    0000008A F8 01            [12]  181 	ldhl	sp,	#1
    0000008C 73               [ 8]  182 	ld	(hl), e
    0000008D 23               [ 8]  183 	inc	hl
    0000008E 77               [ 8]  184 	ld	(hl), a
                                    185 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:54: if(joypadCurrent & J_LEFT){
    0000008F E5               [16]  186 	push	hl
    00000090 2B               [ 8]  187 	dec	hl
    00000091 2B               [ 8]  188 	dec	hl
    00000092 CB 4E            [12]  189 	bit	1, (hl)
    00000094 E1               [12]  190 	pop	hl
    00000095 28 1B            [12]  191 	jr	Z, 00124$
                                    192 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:56: ghostySpeedX -= SPD_CHANGE_X;
    00000097 F8 01            [12]  193 	ldhl	sp,	#1
    00000099 7E               [ 8]  194 	ld	a, (hl)
    0000009A EAr00r00         [16]  195 	ld	(#_ghostySpeedX),a
    0000009D F8 02            [12]  196 	ldhl	sp,	#2
    0000009F 7E               [ 8]  197 	ld	a, (hl)
    000000A0 EAr01r00         [16]  198 	ld	(#_ghostySpeedX + 1),a
                                    199 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:58: if(pcFacing==1){
    000000A3 FAr04r00         [16]  200 	ld	a, (#_pcFacing)
    000000A6 3D               [ 4]  201 	dec	a
    000000A7 C2r3Cr01         [16]  202 	jp	NZ,00125$
                                    203 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:59: pcFacing = 0;
    000000AA 21r04r00         [12]  204 	ld	hl, #_pcFacing
    000000AD 36 00            [12]  205 	ld	(hl), #0x00
    000000AF C3r3Cr01         [16]  206 	jp	00125$
    000000B2                        207 00124$:
                                    208 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:64: ghostySpeedX += SPD_CHANGE_X;
    000000B2 21 08 00         [12]  209 	ld	hl, #0x0008
    000000B5 09               [ 8]  210 	add	hl, bc
    000000B6 5D               [ 4]  211 	ld	e, l
    000000B7 7C               [ 4]  212 	ld	a, h
    000000B8 F8 03            [12]  213 	ldhl	sp,	#3
    000000BA 73               [ 8]  214 	ld	(hl), e
    000000BB 23               [ 8]  215 	inc	hl
    000000BC 77               [ 8]  216 	ld	(hl), a
                                    217 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:62: } else if(joypadCurrent & J_RIGHT){
    000000BD E5               [16]  218 	push	hl
    000000BE F8 02            [12]  219 	ldhl	sp,	#2
    000000C0 CB 46            [12]  220 	bit	0, (hl)
    000000C2 E1               [12]  221 	pop	hl
    000000C3 28 17            [12]  222 	jr	Z, 00121$
                                    223 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:64: ghostySpeedX += SPD_CHANGE_X;
    000000C5 F8 03            [12]  224 	ldhl	sp,	#3
    000000C7 7E               [ 8]  225 	ld	a, (hl)
    000000C8 EAr00r00         [16]  226 	ld	(#_ghostySpeedX),a
    000000CB F8 04            [12]  227 	ldhl	sp,	#4
    000000CD 7E               [ 8]  228 	ld	a, (hl)
    000000CE EAr01r00         [16]  229 	ld	(#_ghostySpeedX + 1),a
                                    230 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:66: if(pcFacing==0){
    000000D1 21r04r00         [12]  231 	ld	hl, #_pcFacing
    000000D4 7E               [ 8]  232 	ld	a, (hl)
    000000D5 B7               [ 4]  233 	or	a, a
    000000D6 20 64            [12]  234 	jr	NZ, 00125$
                                    235 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:67: pcFacing = 1;
    000000D8 36 01            [12]  236 	ld	(hl), #0x01
    000000DA 18 60            [12]  237 	jr	00125$
    000000DC                        238 00121$:
                                    239 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:70: if(ghostySpeedX > 0){
    000000DC 58               [ 4]  240 	ld	e, b
    000000DD AF               [ 4]  241 	xor	a, a
    000000DE 57               [ 4]  242 	ld	d, a
    000000DF B9               [ 4]  243 	cp	a, c
    000000E0 98               [ 4]  244 	sbc	a, b
    000000E1 CB 7B            [ 8]  245 	bit	7, e
    000000E3 28 07            [12]  246 	jr	Z, 00309$
    000000E5 CB 7A            [ 8]  247 	bit	7, d
    000000E7 20 08            [12]  248 	jr	NZ, 00310$
    000000E9 BF               [ 4]  249 	cp	a, a
    000000EA 18 05            [12]  250 	jr	00310$
    000000EC                        251 00309$:
    000000EC CB 7A            [ 8]  252 	bit	7, d
    000000EE 28 01            [12]  253 	jr	Z, 00310$
    000000F0 37               [ 4]  254 	scf
    000000F1                        255 00310$:
    000000F1 30 18            [12]  256 	jr	NC, 00118$
                                    257 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:72: ghostySpeedX -= SPD_CHANGE_X;
    000000F3 F8 01            [12]  258 	ldhl	sp,	#1
    000000F5 7E               [ 8]  259 	ld	a, (hl)
    000000F6 EAr00r00         [16]  260 	ld	(#_ghostySpeedX),a
    000000F9 F8 02            [12]  261 	ldhl	sp,	#2
    000000FB 7E               [ 8]  262 	ld	a, (hl)
    000000FC 21r01r00         [12]  263 	ld	hl, #_ghostySpeedX + 1
                                    264 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:74: if(ghostySpeedX < 0){
    000000FF 32               [ 8]  265 	ld	(hl-), a
    00000100 2A               [ 8]  266 	ld	a, (hl+)
    00000101 CB 7E            [12]  267 	bit	7, (hl)
    00000103 28 37            [12]  268 	jr	Z, 00125$
                                    269 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:75: ghostySpeedX = 0;
    00000105 2B               [ 8]  270 	dec	hl
    00000106 AF               [ 4]  271 	xor	a, a
    00000107 22               [ 8]  272 	ld	(hl+), a
    00000108 77               [ 8]  273 	ld	(hl), a
    00000109 18 31            [12]  274 	jr	00125$
    0000010B                        275 00118$:
                                    276 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:77: } else if(ghostySpeedX < 0){
    0000010B CB 78            [ 8]  277 	bit	7, b
    0000010D 28 2D            [12]  278 	jr	Z, 00125$
                                    279 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:79: ghostySpeedX += SPD_CHANGE_X;
    0000010F F8 03            [12]  280 	ldhl	sp,	#3
    00000111 7E               [ 8]  281 	ld	a, (hl)
    00000112 EAr00r00         [16]  282 	ld	(#_ghostySpeedX),a
    00000115 F8 04            [12]  283 	ldhl	sp,	#4
    00000117 7E               [ 8]  284 	ld	a, (hl)
    00000118 21r01r00         [12]  285 	ld	hl, #_ghostySpeedX + 1
                                    286 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:81: if (ghostySpeedX > 0){
    0000011B 32               [ 8]  287 	ld	(hl-), a
    0000011C 2A               [ 8]  288 	ld	a, (hl+)
    0000011D 4F               [ 4]  289 	ld	c, a
    0000011E 46               [ 8]  290 	ld	b, (hl)
    0000011F 58               [ 4]  291 	ld	e, b
    00000120 AF               [ 4]  292 	xor	a, a
    00000121 57               [ 4]  293 	ld	d, a
    00000122 B9               [ 4]  294 	cp	a, c
    00000123 98               [ 4]  295 	sbc	a, b
    00000124 CB 7B            [ 8]  296 	bit	7, e
    00000126 28 07            [12]  297 	jr	Z, 00311$
    00000128 CB 7A            [ 8]  298 	bit	7, d
    0000012A 20 08            [12]  299 	jr	NZ, 00312$
    0000012C BF               [ 4]  300 	cp	a, a
    0000012D 18 05            [12]  301 	jr	00312$
    0000012F                        302 00311$:
    0000012F CB 7A            [ 8]  303 	bit	7, d
    00000131 28 01            [12]  304 	jr	Z, 00312$
    00000133 37               [ 4]  305 	scf
    00000134                        306 00312$:
    00000134 30 06            [12]  307 	jr	NC, 00125$
                                    308 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:82: ghostySpeedX = 0;
    00000136 AF               [ 4]  309 	xor	a, a
    00000137 21r00r00         [12]  310 	ld	hl, #_ghostySpeedX
    0000013A 22               [ 8]  311 	ld	(hl+), a
    0000013B 77               [ 8]  312 	ld	(hl), a
    0000013C                        313 00125$:
                                    314 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:87: fractionX += ghostySpeedX; // adds speed (which we have as 8 or -8) to the fractional value each frame. we are gaining "8" speed a frame, which becomes 0.03 pixels per frame
    0000013C FAr02r00         [16]  315 	ld	a, (#_fractionX)
    0000013F 21r00r00         [12]  316 	ld	hl, #_ghostySpeedX
    00000142 86               [ 8]  317 	add	a, (hl)
    00000143 21r02r00         [12]  318 	ld	hl, #_fractionX
    00000146 22               [ 8]  319 	ld	(hl+), a
    00000147 7E               [ 8]  320 	ld	a, (hl)
    00000148 21r01r00         [12]  321 	ld	hl, #_ghostySpeedX + 1
    0000014B 8E               [ 8]  322 	adc	a, (hl)
    0000014C EAr03r00         [16]  323 	ld	(#_fractionX + 1),a
                                    324 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:88: fractionY += ghostySpeedY;
    0000014F FAr00r00         [16]  325 	ld	a, (#_fractionY)
    00000152 21r02r00         [12]  326 	ld	hl, #_ghostySpeedY
    00000155 86               [ 8]  327 	add	a, (hl)
    00000156 21r00r00         [12]  328 	ld	hl, #_fractionY
    00000159 22               [ 8]  329 	ld	(hl+), a
    0000015A 7E               [ 8]  330 	ld	a, (hl)
    0000015B 21r03r00         [12]  331 	ld	hl, #_ghostySpeedY + 1
    0000015E 8E               [ 8]  332 	adc	a, (hl)
    0000015F EAr01r00         [16]  333 	ld	(#_fractionY + 1),a
                                    334 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:90: while(fractionX >= (1<<PIXEL_SHIFT)){ // shifting the bits left by 8 multiplies by 2^8 (256), so as long as fractionX is greater than or equal to 256, move ghosty by one pixel
    00000162                        335 00126$:
    00000162 FAr02r00         [16]  336 	ld	a, (#_fractionX)
    00000165 F8 03            [12]  337 	ldhl	sp,	#3
    00000167 77               [ 8]  338 	ld	(hl), a
    00000168 FAr03r00         [16]  339 	ld	a, (#_fractionX + 1)
    0000016B F8 04            [12]  340 	ldhl	sp,	#4
    0000016D 32               [ 8]  341 	ld	(hl-), a
    0000016E 2A               [ 8]  342 	ld	a, (hl+)
    0000016F D6 00            [ 8]  343 	sub	a, #0x00
    00000171 7E               [ 8]  344 	ld	a, (hl)
    00000172 DE 01            [ 8]  345 	sbc	a, #0x01
    00000174 56               [ 8]  346 	ld	d, (hl)
    00000175 3E 01            [ 8]  347 	ld	a, #0x01
    00000177 CB 7F            [ 8]  348 	bit	7,a
    00000179 28 07            [12]  349 	jr	Z, 00313$
    0000017B CB 7A            [ 8]  350 	bit	7, d
    0000017D 20 08            [12]  351 	jr	NZ, 00314$
    0000017F BF               [ 4]  352 	cp	a, a
    00000180 18 05            [12]  353 	jr	00314$
    00000182                        354 00313$:
    00000182 CB 7A            [ 8]  355 	bit	7, d
    00000184 28 01            [12]  356 	jr	Z, 00314$
    00000186 37               [ 4]  357 	scf
    00000187                        358 00314$:
    00000187 38 21            [12]  359 	jr	C, 00129$
                                    360 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:91: ghostyX += 1;
    00000189 21r05r00         [12]  361 	ld	hl, #_ghostyX
    0000018C 2A               [ 8]  362 	ld	a, (hl+)
    0000018D 4F               [ 4]  363 	ld	c, a
    0000018E 3A               [ 8]  364 	ld	a, (hl-)
    0000018F 47               [ 4]  365 	ld	b, a
    00000190 03               [ 8]  366 	inc	bc
    00000191 79               [ 4]  367 	ld	a, c
    00000192 22               [ 8]  368 	ld	(hl+), a
    00000193 70               [ 8]  369 	ld	(hl), b
                                    370 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:92: fractionX -= (1<<PIXEL_SHIFT); // subtracts 256, which resets the fractional part to 0
    00000194 F8 03            [12]  371 	ldhl	sp,#3
    00000196 2A               [ 8]  372 	ld	a, (hl+)
    00000197 5F               [ 4]  373 	ld	e, a
    00000198 56               [ 8]  374 	ld	d, (hl)
    00000199 21 00 01         [12]  375 	ld	hl, #0x0100
    0000019C 7B               [ 4]  376 	ld	a, e
    0000019D 95               [ 4]  377 	sub	a, l
    0000019E 5F               [ 4]  378 	ld	e, a
    0000019F 7A               [ 4]  379 	ld	a, d
    000001A0 9C               [ 4]  380 	sbc	a, h
    000001A1 4B               [ 4]  381 	ld	c, e
    000001A2 21r02r00         [12]  382 	ld	hl, #_fractionX
    000001A5 71               [ 8]  383 	ld	(hl), c
    000001A6 23               [ 8]  384 	inc	hl
    000001A7 77               [ 8]  385 	ld	(hl), a
    000001A8 18 B8            [12]  386 	jr	00126$
                                    387 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:95: while(fractionX <= -(1<<PIXEL_SHIFT)){
    000001AA                        388 00129$:
    000001AA FAr02r00         [16]  389 	ld	a, (#_fractionX)
    000001AD F8 03            [12]  390 	ldhl	sp,	#3
    000001AF 77               [ 8]  391 	ld	(hl), a
    000001B0 FAr03r00         [16]  392 	ld	a, (#_fractionX + 1)
    000001B3 F8 04            [12]  393 	ldhl	sp,	#4
    000001B5 32               [ 8]  394 	ld	(hl-), a
    000001B6 AF               [ 4]  395 	xor	a, a
    000001B7 96               [ 8]  396 	sub	a, (hl)
    000001B8 23               [ 8]  397 	inc	hl
    000001B9 3E FF            [ 8]  398 	ld	a, #0xff
    000001BB 9E               [ 8]  399 	sbc	a, (hl)
    000001BC 3E FF            [ 8]  400 	ld	a, #0xff
    000001BE 57               [ 4]  401 	ld	d, a
    000001BF CB 7E            [12]  402 	bit	7, (hl)
    000001C1 28 07            [12]  403 	jr	Z, 00315$
    000001C3 CB 7A            [ 8]  404 	bit	7, d
    000001C5 20 08            [12]  405 	jr	NZ, 00316$
    000001C7 BF               [ 4]  406 	cp	a, a
    000001C8 18 05            [12]  407 	jr	00316$
    000001CA                        408 00315$:
    000001CA CB 7A            [ 8]  409 	bit	7, d
    000001CC 28 01            [12]  410 	jr	Z, 00316$
    000001CE 37               [ 4]  411 	scf
    000001CF                        412 00316$:
    000001CF 38 1E            [12]  413 	jr	C, 00132$
                                    414 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:96: ghostyX -=1;
    000001D1 21r05r00         [12]  415 	ld	hl, #_ghostyX
    000001D4 2A               [ 8]  416 	ld	a, (hl+)
    000001D5 4F               [ 4]  417 	ld	c, a
    000001D6 3A               [ 8]  418 	ld	a, (hl-)
    000001D7 47               [ 4]  419 	ld	b, a
    000001D8 0B               [ 8]  420 	dec	bc
    000001D9 79               [ 4]  421 	ld	a, c
    000001DA 22               [ 8]  422 	ld	(hl+), a
    000001DB 70               [ 8]  423 	ld	(hl), b
                                    424 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:97: fractionX += (1<<PIXEL_SHIFT);
    000001DC F8 03            [12]  425 	ldhl	sp,#3
    000001DE 2A               [ 8]  426 	ld	a, (hl+)
    000001DF 5F               [ 4]  427 	ld	e, a
    000001E0 56               [ 8]  428 	ld	d, (hl)
    000001E1 21 00 01         [12]  429 	ld	hl, #0x0100
    000001E4 19               [ 8]  430 	add	hl, de
    000001E5 4D               [ 4]  431 	ld	c, l
    000001E6 7C               [ 4]  432 	ld	a, h
    000001E7 21r02r00         [12]  433 	ld	hl, #_fractionX
    000001EA 71               [ 8]  434 	ld	(hl), c
    000001EB 23               [ 8]  435 	inc	hl
    000001EC 77               [ 8]  436 	ld	(hl), a
    000001ED 18 BB            [12]  437 	jr	00129$
                                    438 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:100: while(fractionY >= (1<<PIXEL_SHIFT)){
    000001EF                        439 00132$:
    000001EF FAr00r00         [16]  440 	ld	a, (#_fractionY)
    000001F2 F8 03            [12]  441 	ldhl	sp,	#3
    000001F4 77               [ 8]  442 	ld	(hl), a
    000001F5 FAr01r00         [16]  443 	ld	a, (#_fractionY + 1)
    000001F8 F8 04            [12]  444 	ldhl	sp,	#4
    000001FA 32               [ 8]  445 	ld	(hl-), a
    000001FB 2A               [ 8]  446 	ld	a, (hl+)
    000001FC D6 00            [ 8]  447 	sub	a, #0x00
    000001FE 7E               [ 8]  448 	ld	a, (hl)
    000001FF DE 01            [ 8]  449 	sbc	a, #0x01
    00000201 56               [ 8]  450 	ld	d, (hl)
    00000202 3E 01            [ 8]  451 	ld	a, #0x01
    00000204 CB 7F            [ 8]  452 	bit	7,a
    00000206 28 07            [12]  453 	jr	Z, 00317$
    00000208 CB 7A            [ 8]  454 	bit	7, d
    0000020A 20 08            [12]  455 	jr	NZ, 00318$
    0000020C BF               [ 4]  456 	cp	a, a
    0000020D 18 05            [12]  457 	jr	00318$
    0000020F                        458 00317$:
    0000020F CB 7A            [ 8]  459 	bit	7, d
    00000211 28 01            [12]  460 	jr	Z, 00318$
    00000213 37               [ 4]  461 	scf
    00000214                        462 00318$:
    00000214 38 21            [12]  463 	jr	C, 00135$
                                    464 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:101: ghostyY += 1;
    00000216 21r07r00         [12]  465 	ld	hl, #_ghostyY
    00000219 2A               [ 8]  466 	ld	a, (hl+)
    0000021A 4F               [ 4]  467 	ld	c, a
    0000021B 3A               [ 8]  468 	ld	a, (hl-)
    0000021C 47               [ 4]  469 	ld	b, a
    0000021D 03               [ 8]  470 	inc	bc
    0000021E 79               [ 4]  471 	ld	a, c
    0000021F 22               [ 8]  472 	ld	(hl+), a
    00000220 70               [ 8]  473 	ld	(hl), b
                                    474 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:102: fractionY -= (1<<PIXEL_SHIFT);
    00000221 F8 03            [12]  475 	ldhl	sp,#3
    00000223 2A               [ 8]  476 	ld	a, (hl+)
    00000224 5F               [ 4]  477 	ld	e, a
    00000225 56               [ 8]  478 	ld	d, (hl)
    00000226 21 00 01         [12]  479 	ld	hl, #0x0100
    00000229 7B               [ 4]  480 	ld	a, e
    0000022A 95               [ 4]  481 	sub	a, l
    0000022B 5F               [ 4]  482 	ld	e, a
    0000022C 7A               [ 4]  483 	ld	a, d
    0000022D 9C               [ 4]  484 	sbc	a, h
    0000022E 4B               [ 4]  485 	ld	c, e
    0000022F 21r00r00         [12]  486 	ld	hl, #_fractionY
    00000232 71               [ 8]  487 	ld	(hl), c
    00000233 23               [ 8]  488 	inc	hl
    00000234 77               [ 8]  489 	ld	(hl), a
    00000235 18 B8            [12]  490 	jr	00132$
                                    491 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:105: while(fractionY <= -(1<<PIXEL_SHIFT)){
    00000237                        492 00135$:
    00000237 FAr00r00         [16]  493 	ld	a, (#_fractionY)
    0000023A F8 03            [12]  494 	ldhl	sp,	#3
    0000023C 77               [ 8]  495 	ld	(hl), a
    0000023D FAr01r00         [16]  496 	ld	a, (#_fractionY + 1)
    00000240 F8 04            [12]  497 	ldhl	sp,	#4
    00000242 77               [ 8]  498 	ld	(hl), a
                                    499 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:24: if(ghostyY < FLOOR){
    00000243 21r07r00         [12]  500 	ld	hl, #_ghostyY
    00000246 2A               [ 8]  501 	ld	a, (hl+)
    00000247 4F               [ 4]  502 	ld	c, a
    00000248 46               [ 8]  503 	ld	b, (hl)
                                    504 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:105: while(fractionY <= -(1<<PIXEL_SHIFT)){
    00000249 F8 03            [12]  505 	ldhl	sp,	#3
    0000024B AF               [ 4]  506 	xor	a, a
    0000024C 96               [ 8]  507 	sub	a, (hl)
    0000024D 23               [ 8]  508 	inc	hl
    0000024E 3E FF            [ 8]  509 	ld	a, #0xff
    00000250 9E               [ 8]  510 	sbc	a, (hl)
    00000251 3E FF            [ 8]  511 	ld	a, #0xff
    00000253 57               [ 4]  512 	ld	d, a
    00000254 CB 7E            [12]  513 	bit	7, (hl)
    00000256 28 07            [12]  514 	jr	Z, 00319$
    00000258 CB 7A            [ 8]  515 	bit	7, d
    0000025A 20 08            [12]  516 	jr	NZ, 00320$
    0000025C BF               [ 4]  517 	cp	a, a
    0000025D 18 05            [12]  518 	jr	00320$
    0000025F                        519 00319$:
    0000025F CB 7A            [ 8]  520 	bit	7, d
    00000261 28 01            [12]  521 	jr	Z, 00320$
    00000263 37               [ 4]  522 	scf
    00000264                        523 00320$:
    00000264 38 1A            [12]  524 	jr	C, 00137$
                                    525 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:106: ghostyY -=1;
    00000266 0B               [ 8]  526 	dec	bc
    00000267 21r07r00         [12]  527 	ld	hl, #_ghostyY
    0000026A 79               [ 4]  528 	ld	a, c
    0000026B 22               [ 8]  529 	ld	(hl+), a
    0000026C 70               [ 8]  530 	ld	(hl), b
                                    531 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:107: fractionY += (1<<PIXEL_SHIFT);
    0000026D F8 03            [12]  532 	ldhl	sp,#3
    0000026F 2A               [ 8]  533 	ld	a, (hl+)
    00000270 5F               [ 4]  534 	ld	e, a
    00000271 56               [ 8]  535 	ld	d, (hl)
    00000272 21 00 01         [12]  536 	ld	hl, #0x0100
    00000275 19               [ 8]  537 	add	hl, de
    00000276 4D               [ 4]  538 	ld	c, l
    00000277 7C               [ 4]  539 	ld	a, h
    00000278 21r00r00         [12]  540 	ld	hl, #_fractionY
    0000027B 71               [ 8]  541 	ld	(hl), c
    0000027C 23               [ 8]  542 	inc	hl
    0000027D 77               [ 8]  543 	ld	(hl), a
    0000027E 18 B7            [12]  544 	jr	00135$
    00000280                        545 00137$:
                                    546 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:110: if(ghostyY > FLOOR){
    00000280 58               [ 4]  547 	ld	e, b
    00000281 16 00            [ 8]  548 	ld	d, #0x00
    00000283 3E 84            [ 8]  549 	ld	a, #0x84
    00000285 B9               [ 4]  550 	cp	a, c
    00000286 3E 00            [ 8]  551 	ld	a, #0x00
    00000288 98               [ 4]  552 	sbc	a, b
    00000289 CB 7B            [ 8]  553 	bit	7, e
    0000028B 28 07            [12]  554 	jr	Z, 00321$
    0000028D CB 7A            [ 8]  555 	bit	7, d
    0000028F 20 08            [12]  556 	jr	NZ, 00322$
    00000291 BF               [ 4]  557 	cp	a, a
    00000292 18 05            [12]  558 	jr	00322$
    00000294                        559 00321$:
    00000294 CB 7A            [ 8]  560 	bit	7, d
    00000296 28 01            [12]  561 	jr	Z, 00322$
    00000298 37               [ 4]  562 	scf
    00000299                        563 00322$:
    00000299 30 08            [12]  564 	jr	NC, 00139$
                                    565 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:111: ghostyY = FLOOR;
    0000029B 21r07r00         [12]  566 	ld	hl, #_ghostyY
    0000029E 3E 84            [ 8]  567 	ld	a, #0x84
    000002A0 22               [ 8]  568 	ld	(hl+), a
    000002A1 AF               [ 4]  569 	xor	a, a
    000002A2 77               [ 8]  570 	ld	(hl), a
    000002A3                        571 00139$:
                                    572 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:114: if(pcFacing==1){
    000002A3 FAr04r00         [16]  573 	ld	a, (#_pcFacing)
    000002A6 3D               [ 4]  574 	dec	a
    000002A7 20 1F            [12]  575 	jr	NZ, 00141$
                                    576 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:115: move_metasprite_ex(ghostyMS,0,0,0,ghostyX,ghostyY);
    000002A9 21r07r00         [12]  577 	ld	hl, #_ghostyY
    000002AC 4E               [ 8]  578 	ld	c, (hl)
    000002AD 21r05r00         [12]  579 	ld	hl, #_ghostyX
    000002B0 5E               [ 8]  580 	ld	e, (hl)
                                    581 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:160: __current_metasprite = metasprite;
    000002B1 21r00r00         [12]  582 	ld	hl, #___current_metasprite
    000002B4 3Er00            [ 8]  583 	ld	a, #<(_ghostyMS)
    000002B6 22               [ 8]  584 	ld	(hl+), a
    000002B7 36s00            [12]  585 	ld	(hl), #>(_ghostyMS)
                                    586 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:161: __current_base_tile = base_tile;
    000002B9 21r00r00         [12]  587 	ld	hl, #___current_base_tile
    000002BC 36 00            [12]  588 	ld	(hl), #0x00
                                    589 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:162: __current_base_prop = base_prop;
    000002BE 21r00r00         [12]  590 	ld	hl, #___current_base_prop
    000002C1 36 00            [12]  591 	ld	(hl), #0x00
                                    592 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:163: return __move_metasprite(base_sprite, (y << 8) | (uint8_t)x);
    000002C3 51               [ 4]  593 	ld	d, c
    000002C4 AF               [ 4]  594 	xor	a, a
    000002C5 CDr00r00         [24]  595 	call	___move_metasprite
                                    596 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:115: move_metasprite_ex(ghostyMS,0,0,0,ghostyX,ghostyY);
    000002C8                        597 00141$:
                                    598 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:118: if(pcFacing==0){
    000002C8 FAr04r00         [16]  599 	ld	a, (#_pcFacing)
    000002CB B7               [ 4]  600 	or	a, a
    000002CC 20 23            [12]  601 	jr	NZ, 00146$
                                    602 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:119: move_metasprite_flipx(ghostyMS,0,0,0,ghostyX,ghostyY);
    000002CE 21r07r00         [12]  603 	ld	hl, #_ghostyY
    000002D1 4E               [ 8]  604 	ld	c, (hl)
    000002D2 21r05r00         [12]  605 	ld	hl, #_ghostyX
    000002D5 46               [ 8]  606 	ld	b, (hl)
                                    607 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:200: __current_metasprite = metasprite;
    000002D6 21r00r00         [12]  608 	ld	hl, #___current_metasprite
    000002D9 3Er00            [ 8]  609 	ld	a, #<(_ghostyMS)
    000002DB 22               [ 8]  610 	ld	(hl+), a
    000002DC 36s00            [12]  611 	ld	(hl), #>(_ghostyMS)
                                    612 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:201: __current_base_tile = base_tile;
    000002DE 21r00r00         [12]  613 	ld	hl, #___current_base_tile
    000002E1 36 00            [12]  614 	ld	(hl), #0x00
                                    615 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:202: __current_base_prop = base_prop;
    000002E3 21r00r00         [12]  616 	ld	hl, #___current_base_prop
    000002E6 36 00            [12]  617 	ld	(hl), #0x00
                                    618 ;c:\users\wsajj\gbdev\gbdk\include\gb\metasprites.h:203: return __move_metasprite_flipx(base_sprite, (y << 8) | (uint8_t)(x - 8u));
    000002E8 51               [ 4]  619 	ld	d, c
    000002E9 78               [ 4]  620 	ld	a, b
    000002EA C6 F8            [ 8]  621 	add	a, #0xf8
    000002EC 5F               [ 4]  622 	ld	e, a
    000002ED AF               [ 4]  623 	xor	a, a
    000002EE CDr00r00         [24]  624 	call	___move_metasprite_flipx
                                    625 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:119: move_metasprite_flipx(ghostyMS,0,0,0,ghostyX,ghostyY);
    000002F1                        626 00146$:
                                    627 ;C:\Users\wsajj\GBdev\gbdk\_code\gbJam24\source\Mechanic\joypadMgmt.c:121: }
    000002F1 E8 05            [16]  628 	add	sp, #5
    000002F3 C9               [16]  629 	ret
                                    630 	.area _CODE
                                    631 	.area _INITIALIZER
    00000000                        632 __xinit__fractionY:
    00000000 00 00                  633 	.dw #0x0000
    00000002                        634 __xinit__ghostySpeedY:
    00000002 01 00                  635 	.dw #0x0001
    00000004                        636 __xinit__pcFacing:
    00000004 01                     637 	.db #0x01	; 1
    00000005                        638 __xinit__ghostyX:
    00000005 50 00                  639 	.dw #0x0050
    00000007                        640 __xinit__ghostyY:
    00000007 50 00                  641 	.dw #0x0050
    00000009                        642 __xinit__gravity:
    00000009 01 00                  643 	.dw #0x0001
                                    644 	.area _CABS (ABS)
